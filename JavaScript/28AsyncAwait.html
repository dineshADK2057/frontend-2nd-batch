<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Async Await</title>
  </head>
  <body>
    <script>
      // **`async/await`** is a syntax feature in modern versions of JavaScript (ES2017 or later) that allows developers to write asynchronous code in a more readable and concise way.

      // **`async`** is a keyword that is used to define a function as asynchronous. An asynchronous function is one that can perform long-running tasks without blocking the execution of other code in the same thread.

      // When a function is marked as **`async`**, it returns a Promise that resolves to the return value of the function or to an error if one occurs. The Promise allows you to chain asynchronous operations together and handle the results using **`then()`** and **`catch()`** methods.

      // using promise

      // const isTrue = false;
      // const promise = new Promise((resolve, reject)=>{
      //     if (isTrue) {
      //         resolve("this is fulfilled");
      //     }
      //     else{
      //         reject()
      //     }
      // })

      // promise
      //     .then((data)=>{
      //         console.log(data);

      //     })
      //     .catch(()=>{
      //         console.log("there is an error")
      //     })

      // using async
      // const async AsyncFunction(){

      // }
      // const AsyncFunction = async (isTrue)=>{
      //     if(isTrue){
      //         return "success";
      //     }
      //     else{
      //         throw "Error"
      //     }
      // }
      // AsyncFunction(false)
      //     .then(()=>{
      //     console.log("success");

      // })
      // .catch((error)=>{
      //     console.log(error);

      // })

      // async await

      // Using promise

      //   const fetchData = new Promise((resolve, reject) => {
      //     const error = true;
      //     if (error) {
      //         reject("Some error")
      //     } else {
      //         setTimeout(() => {
      //             const numbers = [1, 2, 3, 4, 5];
      //             resolve(numbers);
      //         }, 2000);
      //     }
      //   })

      //   fetchData
      //   .then((data)=>{
      //     console.log(data);
      //   })
      //   .catch((error)=>{
      //     console.log(error);
      //   })
      //   .finally(()=>{
      //     console.log("This is finally statemtnt which will always execute");

      //   })

      // using async await

      //   const fetchData = async () => {
      //     const error = false;
      //     if (error) {
      //       throw "Some error";
      //     } else {

      //         const numbers = [1, 2, 3, 4, 5];
      //         return numbers;

      //     }
      //   };

      //   async function processData (){
      //     try {
      //         const response = await fetchData();

      //         console.log(response);
      //     } catch (error) {
      //         console.log(error);
      //     }
      //   }

      //   processData();

      // using fetch()

      (async () => {
        async function processData() {
          try {
            const response = await fetch(
              "https://jsonplaceholder.typicode.com/posts/1"
            );
            const data = await response.json();
            console.log(data);
            return data;
          } catch (error) {
            console.log(error);
          }
        }

        const mainData = await processData();

        console.log(mainData);
      })();

    </script>
  </body>
</html>
